import{a as W}from"./chunk-JPPMYTV5.js";import{B,F as H,I as U,J as V,c as q,e as D,m as A,q as R,s as G}from"./chunk-UPVBF2VF.js";import{C as p,D as i,E as r,F as _,M as P,X as a,db as C,e as d,eb as S,fb as F,ha as b,hb as L,ib as k,jb as N,la as v,mb as T,nb as z,oa as w,ob as j,pa as y,q as l,sa as I,t as m,ta as E,v as x,w as f,xa as M,z as h}from"./chunk-36HGS4EL.js";import"./chunk-LUUFI6RM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-AHGHMOHV.js";import"./chunk-73NUNHON.js";import"./chunk-4MO7OQZX.js";import"./chunk-M2Y4VNJU.js";import"./chunk-74SSSF5Y.js";import"./chunk-N3KGO5P4.js";import"./chunk-7FY2OE2O.js";import"./chunk-J5AYYYYG.js";import"./chunk-FGNDF6E2.js";import"./chunk-FHHGKWYB.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-ZZTMQJLL.js";import"./chunk-CKP3SGE2.js";import"./chunk-WER6QGNK.js";import"./chunk-WE77HQDE.js";import"./chunk-2GDOKXI3.js";import"./chunk-6O2VLVOF.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-2F44PKVT.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as O}from"./chunk-JHI3MBHO.js";function Q(n,t){n&1&&(i(0,"p",17),a(1," O usu\xE1rio \xE9 obrigat\xF3rio. "),r())}function X(n,t){n&1&&(i(0,"p",17),a(1," A senha \xE9 obrigat\xF3ria. "),r())}function Z(n,t){n&1&&(i(0,"p",17),a(1," A senha deve ter pelo menos 8 caracteres. "),r())}function $(n,t){n&1&&(i(0,"span"),a(1,"Entrar"),r())}function tt(n,t){n&1&&_(0,"ion-spinner")}var J=(()=>{let t=class t{constructor(g,e,o,s){this.fb=g,this.http=e,this.router=o,this.toastController=s,this.isLoading=!1,this.showPassword=!1,this.passwordIcon="eye-off-outline"}ngOnInit(){this.loginForm=this.fb.group({usuario:["",[C.required]],senha:["",[C.required,C.minLength(8)]]})}togglePassword(){this.showPassword=!this.showPassword,this.showPassword?this.passwordIcon="eye-outline":this.passwordIcon="eye-off-outline"}fazerLogin(){if(this.loginForm.invalid)return;let{usuario:g,senha:e}=this.loginForm.value,o=W+"/auth/login",s={email:g,password:e};this.isLoading=!0,this.http.post(o,s).subscribe({next:c=>{this.isLoading=!1,localStorage.setItem("token",c.access_token),localStorage.setItem("userId_logado",c.user_id),this.router.navigate(["/home"])},error:c=>{this.isLoading=!1,this.presentarToast("Email ou senha inv\xE1lidos. Tente novamente.","danger")}})}presentarToast(g,e){return O(this,null,function*(){(yield this.toastController.create({message:g,duration:3e3,position:"bottom",color:e})).present()})}};t.\u0275fac=function(e){return new(e||t)(m(T),m(w),m(I),m(U))},t.\u0275cmp=x({type:t,selectors:[["app-login"]],standalone:!1,decls:27,vars:9,consts:[[1,"login-content"],[1,"white-shape"],[1,"login-container"],[1,"login-title"],[3,"ngSubmit","formGroup"],[1,"input-group"],["for","usuario"],["id","usuario","placeholder","Digite seu usu\xE1rio","formControlName","usuario"],["class","error-message",4,"ngIf"],["for","senha"],["id","senha","placeholder","Digite sua senha","formControlName","senha",3,"type"],["aria-label","Mostrar/ocultar senha",1,"password-icon",3,"click","name"],["routerLink","/esqueci-minha-senha",1,"forgot-password"],["type","submit","expand","block",1,"login-button",3,"disabled"],[4,"ngIf"],[1,"signup-text"],["routerLink","/cadastro",1,"signup-link"],[1,"error-message"]],template:function(e,o){if(e&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Login"),r(),i(5,"form",4),P("ngSubmit",function(){return o.fazerLogin()}),i(6,"div",5)(7,"label",6),a(8,"Usu\xE1rio:"),r(),_(9,"ion-input",7),h(10,Q,2,0,"p",8),r(),i(11,"div",5)(12,"label",9),a(13,"Senha:"),r(),_(14,"ion-input",10),i(15,"ion-icon",11),P("click",function(){return o.togglePassword()}),r(),h(16,X,2,0,"p",8)(17,Z,2,0,"p",8),r(),i(18,"a",12),a(19," Esqueci minha senha "),r(),i(20,"ion-button",13),h(21,$,2,0,"span",14)(22,tt,1,0,"ion-spinner",14),r(),i(23,"p",15),a(24," N\xE3o tem conta? "),i(25,"a",16),a(26,"Cadastre-se"),r()()()()()()),e&2){let s,c,u;l(5),p("formGroup",o.loginForm),l(5),p("ngIf",((s=o.loginForm.get("usuario"))==null?null:s.touched)&&((s=o.loginForm.get("usuario"))==null?null:s.hasError("required"))),l(4),p("type",o.showPassword?"text":"password"),l(),p("name",o.passwordIcon),l(),p("ngIf",((c=o.loginForm.get("senha"))==null?null:c.touched)&&((c=o.loginForm.get("senha"))==null?null:c.hasError("required"))),l(),p("ngIf",((u=o.loginForm.get("senha"))==null?null:u.touched)&&((u=o.loginForm.get("senha"))==null?null:u.hasError("minlength"))),l(3),p("disabled",o.loginForm.invalid||o.isLoading),l(),p("ngIf",!o.isLoading),l(),p("ngIf",o.isLoading)}},dependencies:[b,L,S,F,D,A,R,G,B,q,H,E,k,N],styles:['@charset "UTF-8";[_nghost-%COMP%]   ion-content.login-content[_ngcontent-%COMP%]{--ion-background-color: #85c9f2;--background: #85c9f2;position:relative;height:100%}[_nghost-%COMP%]   .white-shape[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:80%;background-color:#fff;border-top-left-radius:120px;border-top-right-radius:0;box-shadow:0 -4px 10px #0000001a;display:flex;justify-content:center;align-items:flex-start;padding-top:40px}[_nghost-%COMP%]   .login-container[_ngcontent-%COMP%]{width:85%;max-width:320px;text-align:center}[_nghost-%COMP%]   .login-title[_ngcontent-%COMP%]{font-weight:800;color:#036;font-size:45px;margin-bottom:30px}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]{text-align:left;margin-bottom:18px;position:relative}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#036;display:block;margin-bottom:6px}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: #f2f2f8;border-radius:8px;padding-left:12px;height:48px;font-size:16px;--color: #000000;color:#000}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]::part(native){color:#000!important;opacity:1}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]::placeholder{color:#999;opacity:1}[_nghost-%COMP%]   .password-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:12px;transform:translateY(0);z-index:10;font-size:1.4rem;color:#888}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   ion-input[formControlName=senha][_ngcontent-%COMP%]{--padding-end: 40px !important}[_nghost-%COMP%]   .forgot-password[_ngcontent-%COMP%]{display:block;text-align:left;font-size:13px;color:#03c;margin-bottom:25px;text-decoration:none}[_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #85c9f2;--color: #003366;font-weight:700;border-radius:8px;height:46px;font-size:16px;margin-bottom:25px}[_nghost-%COMP%]   .signup-text[_ngcontent-%COMP%]{font-size:14px;color:#333}[_nghost-%COMP%]   .signup-text[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]{color:#03c;font-weight:600;text-decoration:none}[_nghost-%COMP%]   .social-login[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   .social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#333}[_nghost-%COMP%]   .social-login[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:14px;margin-top:8px}[_nghost-%COMP%]   .social-login[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#03c}[_nghost-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f;font-size:13px;margin-top:4px;padding-left:4px}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{--border-color: #d9534f !important;border:2px solid #d9534f!important;border-radius:8px}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]   ion-input.ng-invalid.ng-touched[_ngcontent-%COMP%]::part(native){background:#f2f2f8!important}']});let n=t;return n})();var nt=[{path:"",component:J}],K=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f({type:t}),t.\u0275inj=d({imports:[M.forChild(nt),M]});let n=t;return n})();var Ot=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f({type:t}),t.\u0275inj=d({imports:[v,z,V,K,j,y]});let n=t;return n})();export{Ot as LoginPageModule};
